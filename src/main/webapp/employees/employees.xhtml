<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:p="http://primefaces.org/ui">

    <ui:composition template="/template1.xhtml">

        <ui:define name="title">
            <h:outputText value="Empleados"></h:outputText>
        </ui:define>

        <ui:define name="stylesSpecifided">
            <h:outputStylesheet library="css" name="datepicker.css"/>
        </ui:define>

        <ui:define name="encabezado">
            <h:outputText value="Empleados Registrados"></h:outputText>
        </ui:define>

        <ui:define name="contenido">
            <p:commandLink value="Test" actionListener="#{empleadosControl.methodTest}"/>
            <h:form id='formEmpleado'>             
                <p:dataTable id="lstEmployees"
                             value="#{empleadosControl.lstEmpleados}"
                             var="item"
                             selectionMode="single"
                             styleClass="table table-bordered"
                             rowKey="#{item}"
                             emptyMessage="Sin registro de Empleados"
                             selection="#{empleadosControl.selected}"
                             >
                    <p:ajax event="rowSelect" update="btnDelete btnUpdate btnAbonar btnUploadDocuments"/>
                    <p:column>
                        <f:facet name="header">
                            <h:outputText value="#{bundle.DUI}"/>
                        </f:facet>
                        <h:outputText value="#{item.dui}"/>
                    </p:column>
                    <p:column>
                        <f:facet name="header">
                            <h:outputText value="#{bundle.FullName}"/>
                        </f:facet>
                        <h:outputText value="#{item.nombres} #{item.apellidos}"/>
                    </p:column>
                    <p:column>
                        <f:facet name="header">
                            <h:outputText value="#{bundle.Telephone}"/>
                        </f:facet>
                        <h:outputText value="#{item.telefono}"/>
                    </p:column>                    
                    <p:column>
                        <f:facet name="header">
                            <h:outputText value="#{bundle.MaritalStatus}"/>
                        </f:facet>
                        <h:outputText value="#{item.estadocivil}"/>
                    </p:column>                     
                    <p:column>
                        <f:facet name="header">
                            <h:outputText value="#{bundle.Abono}"/>
                        </f:facet>
                        <h:outputText value="$ 0.00"/>
                    </p:column>                     
                    <f:facet name="footer">
                        <p:commandLink actionListener="#{empleadosControl.recargarEmpleados}"
                                        styleClass="btn btn-app m-2 border border-warning icon1"
                                         id="btnReload"
                                         update="formEmpleado">
                        <i class="fas fa-sync"></i>
                        <h:outputText value="#{bundle.Reload}"/>
                        </p:commandLink>
                        <p:commandLink actionListener="#{empleadosControl.prepareCreate}"
                                       styleClass="btn btn-app m-2 border border-warning"
                                         a:data-toggle="modal"
                                         update=":frmEmployees"
                                         a:data-target="#modalEmploye"> 
                        <i class="fas fa-plus"></i>
                        <h:outputText value="#{bundle.Create}"/>
                        </p:commandLink>
                        <p:commandLink styleClass="btn btn-app m-2 border border-warning"
                                       id="btnUpdate"
                                         disabled="#{empty empleadosControl.selected}"
                                         a:data-toggle="modal"
                                         update=":frmEmployees"
                                         a:data-target="#modalEmploye">
                        <i class="fas fa-edit"></i>
                        <h:outputText value="#{bundle.Edit}"/>
                        </p:commandLink>
                        <p:commandLink styleClass="btn btn-app m-2 border border-warning"                                     
                                         id="btnDelete"
                                         disabled="#{empty empleadosControl.selected}"
                                         a:data-toggle="modal"
                                         a:data-target="#modalConfirmEmploye">
                        <i class="fas fa-trash-alt"></i>
                        <h:outputText value="#{bundle.Delete}"/>
                        </p:commandLink>
                        <p:commandLink actionListener="#{empleadosControl.prepareCreate}"
                                       styleClass="btn btn-app m-2 border border-warning"                                     
                                         id="btnView"
                                         disabled="#{empty empleadosControl.selected}"
                                         a:data-toggle="modal"
                                         a:data-target="#modalConfirmEmploye">
                        <i class="fas fa-eye"></i>
                        <h:outputText value="#{bundle.View}"/>
                        </p:commandLink>  
                        <p:commandLink styleClass="btn btn-app m-2 border border-warning"                                     
                                         id="btnUploadDocuments"
                                         a:data-toggle="modal"
                                          disabled="#{empty empleadosControl.selected}"
                                         a:data-target="#upload-doc-modal">
                        <i class="fas fa-file-upload"></i>
                        <h:outputText value="#{bundle.UploadDocuments}"/>
                        </p:commandLink>  
                        <p:commandLink actionListener="#{empleadosControl.prepareCreate}"
                                       styleClass="btn btn-app m-2 border border-warning"                                     
                                         id="btnAbonar"
                                         disabled="#{empty empleadosControl.selected}"
                                         a:data-toggle="modal"
                                         a:data-target="#modalConfirmEmploye">
                        <i class="fas fa-cash-register"></i>
                        <h:outputText value="#{bundle.Abono}"/>
                        </p:commandLink>                          
                    </f:facet>
                </p:dataTable>
            </h:form>
            <ui:include src="Create.xhtml"/>
            <ui:include src="DeleteConfirm.xhtml"/>
            <ui:include src="UploadDocument.xhtml"/>

        </ui:define>
        <ui:define name="scriptsSpecifided">
            <h:outputScript library="js" name="employees_global.js"/>
        </ui:define>

    </ui:composition>
</html>


