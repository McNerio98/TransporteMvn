<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:jsf="http://xmlns.jcp.org/jsf"
      xmlns:p="http://primefaces.org/ui">

    <ui:composition template="/template1.xhtml">
        <ui:define name="title">
            <h:outputText value="Empleados"></h:outputText>
        </ui:define>
        <ui:define name="stylesSpecifided">
            <h:outputStylesheet library="css" name="datepicker.css"/>
        </ui:define>
        <ui:define name="encabezado">
            <h:outputText value="Empleados Registrados"></h:outputText>
        </ui:define>
        <ui:define name="contenido">
            <div class="card">
                <div class="m-auto p-md-2" style="width: 100%; max-width: 1024px;">
                    <div class="card-header text-muted h5">
                        Gestione y Configure el personal
                    </div>
                    <h:panelGroup layout="block" styleClass="card-body" id="viewEmployee">
                        <h:panelGroup styleClass="row" layout="block" rendered="#{empleadosControl.selected != null}">
                            <div class="col-md-4">
                                <img src="#{facesContext.externalContext.requestContextPath}/resources/img/avatar.png" alt="" class="img-center-round"/>
                                <div class="text-center border-bottom pt-3">
                                    <label for="" class="text-muted font-weight-normal">
                                        Tipo Empleado /
                                    </label>
                                    <span><h:outputText value="#{empleadosControl.selected.tipoEmpleadoCase()}"/></span>
                                </div>
                            </div>
                            <div class="col-md-8">
                                <div class="row">
                                    <div class="col-md-6">
                                        <p class="text-muted font-weight-bolder m-none">Informacion Empleado
                                        </p>
                                        <p class="text-muted font-weight-normal"><h:outputText value="#{empleadosControl.selected.nombres} #{empleadosControl.selected.apellidos}"/></p>
                                        <div>
                                            <p class="text-muted mt-custom1">DUI: <h:outputText styleClass="text-primary" value="#{empleadosControl.selected.dui}"/></p>
                                            <p class="text-muted mt-custom1">Fecha de Nacimiento: 
                                                <h:outputText value="#{empleadosControl.selected.fechaNacimiento}" styleClass="text-primary">
                                                        <f:convertDateTime type="date" parent="dd/MM/yyyy"/>
                                                </h:outputText>                                                        
                                            </p>
                                            <p class="text-muted mt-custom1">Edad: <h:outputText styleClass="text-primary" value="32a"/> </p>
                                            <p class="text-muted mt-custom1">Contacto: <h:outputText styleClass="text-primary" value="#{empleadosControl.selected.telefono}"/></p>
                                            <p class="text-muted mt-custom1">Estado Civil: <h:outputText styleClass="text-primary" value="#{empleadosControl.selected.estadoCivilCase()}"/></p>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="rounded border border-info row p-2 text-info mb-2">
                                            <div class="h3 m-none">
                                                <i class="fas fa-file-pdf"></i>
                                            </div>
                                            <div class="ml-2">
                                                3 Documentos Adjuntos
                                            </div>
                                        </div>
                                        <div class="rounded border border-danger row p-2 text-danger mb-2">
                                            <div class="h3 m-none">
                                                <i class="far fa-bell"></i>
                                            </div>
                                            <div class="ml-2">
                                                2 Alertas
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>                            
                        </h:panelGroup>
                    </h:panelGroup>

                    <div class="row text-right">
                        <div class="col-12 mb-2" id="pnlButtons">
                            <h:form id="formButtons">
                                <p:commandButton actionListener="#{empleadosControl.prepareCreate}"
                                                 styleClass="btn-ct btn-ct-success d-inline-block ml-1"
                                                 a:data-toggle="modal"
                                                 a:data-target="#modalEmploye"
                                                 value="+ #{bundle.Create}"/> 
                                <p:commandButton styleClass="btn-ct btn-ct-warning d-inline-block ml-1"
                                                 id="btnUpdate"
                                                 disabled="#{empty empleadosControl.selected}"
                                                 value="#{bundle.Edit}"/>
                                <p:commandButton styleClass="btn-ct btn-ct-danger d-inline-block m-1"                                     
                                                 id="btnDelete"
                                                 disabled="#{empty empleadosControl.selected}"
                                                 value="#{bundle.Delete}"/>
                            </h:form>                                    
                        </div>
                    </div>                           

                    <h:form id="listFormEmployees">
                        <p:dataTable id="lstEmployees"
                                     value="#{empleadosControl.lstEmpleados}"
                                     var="item"
                                     selectionMode="single"
                                     tableStyleClass="table clobi-style"
                                     rowKey="#{item}"
                                     emptyMessage="Sin registro de Empleados"
                                     selection="#{empleadosControl.selected}"
                                     >
                            <p:ajax event="rowSelect"   update=":formButtons :viewEmployee"/>
                            <p:column>
                                <f:facet name="header">
                                    <h:outputText value="#{bundle.DUI}"/>
                                </f:facet>
                                <h:outputText value="#{item.dui}"/>
                            </p:column>
                            <p:column>
                                <f:facet name="header">
                                    <h:outputText value="#{bundle.FullName}"/>
                                </f:facet>
                                <h:outputText value="#{item.nombres} #{item.apellidos}"/>
                            </p:column>
                            <p:column>
                                <f:facet name="header">
                                    <h:outputText value="#{bundle.Telephone}"/>
                                </f:facet>
                                <h:outputText value="#{item.telefono}"/>
                            </p:column>                    
                            <p:column>
                                <f:facet name="header">
                                    <h:outputText value="#{bundle.TypeEmployee}"/>
                                </f:facet>
                                <h:outputText value="#{item.tipoEmpleadoCase()}"/>
                            </p:column>                                        
                        </p:dataTable>                            
                    </h:form>
                </div>
            </div>
            <ui:include src="Create.xhtml"/>
        </ui:define>
        <ui:define name="scriptsSpecifided">
            <h:outputScript library="js" name="employees_global.js"/>
        </ui:define>

    </ui:composition>
</html>


